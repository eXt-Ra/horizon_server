{"version":3,"sources":["webpack:///webpack/bootstrap cd1c21221a3082042242","webpack:///external \"mssql\"","webpack:///./src/conn.js","webpack:///external \"moment\"","webpack:///external \"mongoose\"","webpack:///./src/_MongoDB/models/chargement.js","webpack:///./src/_MongoDB/models/userdcs.js","webpack:///./src/molecules/postEventAnd.js","webpack:///./src/_MongoDB/models/config.js","webpack:///./src/_MongoDB/models/position.js","webpack:///./src/mail/nodemailer.js","webpack:///./src/molecules/traitColis.js","webpack:///external \"request\"","webpack:///./src/index.js","webpack:///./src/_MongoDB/models/userapi.js","webpack:///./src/mail/chargementErreur.js","webpack:///./src/molecules/chargementExist.js","webpack:///./src/molecules/createChargement.js","webpack:///./src/molecules/createConfig.js","webpack:///./src/molecules/getChauffeur.js","webpack:///./src/molecules/getColisProdTable.js","webpack:///./src/molecules/getColisTempTable.js","webpack:///./src/molecules/getConfig.js","webpack:///./src/molecules/getEventProd.js","webpack:///./src/molecules/getEvents.js","webpack:///./src/molecules/getGroupage.js","webpack:///./src/molecules/getIcoEvents.js","webpack:///./src/molecules/getMessageAdmin.js","webpack:///./src/molecules/getPosOnlyColisProdTable.js","webpack:///./src/molecules/getPosOnlyColisTempTable.js","webpack:///./src/molecules/getPosProdTable.js","webpack:///./src/molecules/getPosStorage.js","webpack:///./src/molecules/getPosTempTable.js","webpack:///./src/molecules/getProgressDms.js","webpack:///./src/molecules/getSalarie.js","webpack:///./src/molecules/getSuiviDms.js","webpack:///./src/molecules/getZone.js","webpack:///./src/molecules/getZones.js","webpack:///./src/molecules/postEvent.js","webpack:///./src/molecules/postImage.js","webpack:///./src/molecules/traitFullFlash.js","webpack:///./src/molecules/updateColisProd.js","webpack:///./src/molecules/updateColisStorage.js","webpack:///./src/molecules/userInChargement.js","webpack:///./src/organisms/apiMongo.js","webpack:///./src/organisms/apiStore.js","webpack:///./src/organisms/getInfoGroupage.js","webpack:///./src/organisms/getPosition.js","webpack:///./src/organisms/socket.js","webpack:///external \"async\"","webpack:///external \"connect-busboy\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"ftp\"","webpack:///external \"helmet\"","webpack:///external \"http\"","webpack:///external \"lodash\"","webpack:///external \"node-persist\"","webpack:///external \"nodemailer\"","webpack:///external \"scribe-js\"","webpack:///external \"socket.io\""],"names":["sql","require","console","process","connection","Connection","user","password","server","database","pool","max","min","idleTimeoutMillis","connect","err","tag","time","file","error","module","exports","mongoose","Schema","chargementSchema","token","type","String","required","unique","status","dateCrea","Date","userCrea","logs","Array","positions","users","groupage","societe","zone","Chargement","model","userDcsSchema","code","connected","Boolean","lastConn","firstConn","socketId","pre","next","currentDate","UserDcs","request","moment","codeEvent","libEvent","remarque","idPosition","Promise","resolve","reject","options","method","url","headers","body","EVECODE","EVELIB","EVEDATE","format","EVEOTEVAL1","EVEQUIC","EVEOTSID","EVETABLE","json","log","response","configSchema","name","isDefault","chargementMode","dechargementMode","inventaireMode","logoutTime","wrongZoneAlert","scanManuel","Config","positionSchema","numPosition","refClient","nbColis","Number","nbPalette","nbColisFictif","poids","ml","col","colisSurPal","dateImpLiv","clientNom","expediteurNom","expediteurAdresse","expediteurVille","expediteurCp","chargementNom","chargementAdresse","chargementVille","chargementCp","livraisonNom","livraisonAdresse","livraisonVille","livraisonCp","zoneQuaiTheorique","codebarre","evenement","Position","nodemailer","smtpConfig","host","port","secure","auth","pass","transporter","createTransport","sendMail","mail","info","updateColisStorage","updateColisProd","traitFullFlash","num","action","storage","then","setItem","pos","msg","colors","undefined","catch","express","helmet","app","busboy","scribe","use","UserApi","Server","io","listen","env","PORT","router","Router","get","req","res","Romain","save","success","header","sendStatus","findOne","send","message","storePos","create","dir","ttl","expiredInterval","init","e","webPanel","logger","find","forEach","userApiSchema","created_at","updated_at","porte","from","to","subject","text","html","async","params","charg","forEachOf","key","callback","push","item","post","query","newCharg","typechargement","typedechargement","typeinventaire","def","default","zoneAlert","newConfig","update","$set","conn","Request","input","NVarChar","dms","recordset","Int","config","configs","arrayConfig","result","sendFile","s","values","cb","numero","val","length","SALCODE","newuser","SALSOCCODE","soc","postEventAnd","traitColis","data","sch","o","colis","fs","Client","connectionProperties","c","fstream","pipe","on","fieldname","filename","createWriteStream","put","replace","end","i","dateChargement","isSame","dateDechargement","dateInventaire","ChargementEventDoneAt","DechargementEventDoneAt","source","indexOf","InventaireEventDoneAt","numColis","_","quiChargement","quiDechargement","zoneDeQuai","schColis","quiInventaire","chargs","clear","removeItem","getGroupage","getChauffeur","getMessageAdmin","getSuiviDms","getProgressDms","dataGrp","chauffeur","nom","imei","dateImport","dateRecu","position","progressBar","nomsociete","getPosProdTable","getPosOnlyColisProdTable","getPosTempTable","getPosOnlyColisTempTable","getPosStorage","getColisProdTable","getColisTempTable","getEventProd","newStorage","resStore","resPos","resColis","resEvent","chargementErreur","socket","id","handshake","plateforme","join","emit","date","u","$pull","leave","numpos","getItem","newPos","unshift","broadcast","index","posnum","splice","indexA","indexB","numA","numB","b","commande","JSON","parse","newdata","OTSID","OTSNUM","GRPQUIC","GRPPORTE","GRPCOMMANDE","Error"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd1c21221a3082042242","module.exports = require(\"mssql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mssql\"\n// module id = 0\n// module chunks = 0","const sql = require(\"mssql\");\nconst console = process.console;\n\nconst connection = new sql.Connection({\n    user: \"sa\",\n    password: \"jb\",\n    server: \"10.1.2.66\",\n    database: \"ANDSYS_JET\",\n    pool: {\n        max: 10,\n        min: 0,\n        idleTimeoutMillis: 30000\n    }\n});\n\nconnection.connect(function(err) {\n    if (err) {\n        console.tag(\"CONN\").time().file().error(err);\n    }\n});\nmodule.exports = connection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/conn.js","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","const mongoose = require(\"mongoose\");\nconst Schema = mongoose.Schema;\n// const {positionSchema} = require(\"./position\");\n\nconst chargementSchema = new Schema({\n    token: { type: String, required: true, unique: true},\n    status: { type: String, required: true},\n    dateCrea: { type: Date, required: true},\n    userCrea: { type: String, required: true},\n    logs: Array,\n    positions: Array,\n    users: Array,\n    groupage: String,\n    societe: { type: String, required: true},\n    zone: { type: String, required: true}\n});\n\nconst Chargement = mongoose.model(\"Chargement\", chargementSchema);\nmodule.exports = Chargement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/_MongoDB/models/chargement.js","const mongoose = require(\"mongoose\");\nconst Schema = mongoose.Schema;\n\nconst userDcsSchema = new Schema({\n    code: { type: String, required: true, unique: true },\n    societe: { type: String, required: true},\n    connected: Boolean,\n    lastConn: Date,\n    firstConn: Date,\n    socketId : String\n});\n\nuserDcsSchema.pre(\"save\", function(next) {\n    const currentDate = new Date();\n    // this.lastConn = currentDate;\n      // if created_at doesn't exist, add to that field\n    if (!this.firstConn)\n        this.firstConn = currentDate;\n\n    next();\n});\n\nconst UserDcs = mongoose.model(\"UserDcs\", userDcsSchema);\nmodule.exports = UserDcs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/_MongoDB/models/userdcs.js","const request = require(\"request\");\nconst moment = require(\"moment\");\n\nmodule.exports = (codeEvent,libEvent, remarque, user, idPosition) => {\n    return new Promise((resolve, reject) => {\n        const options = {\n            method: \"POST\",\n            url: \"http://10.1.2.70/DCSAPP/api/creaeve\",\n            headers: {\n                \"cache-control\": \"no-cache\",\n                \"content-type\": \"application/json\",\n                \"x-access-token\": \"w25K}54dkaE/[dgduVqcX9VicQF17u\"\n            },\n            body: {\n                EVECODE: codeEvent,\n                EVELIB: libEvent,\n                EVEDATE: moment().format(\"DD/MM/YYYY\"),\n                EVEOTEVAL1: remarque,\n                EVEQUIC: user,\n                EVEOTSID: idPosition,\n                EVETABLE: \"ORDRE\"\n            },\n            json: true\n        };\n        console.log(`{\n            EVECODE: ${codeEvent},\n            EVELIB: ${libEvent},\n            EVEDATE: ${moment().format(\"DD/MM/YYYY\")},\n            EVEOTEVAL1: ${remarque},\n            EVEQUIC: ${user},\n            EVEOTSID: ${idPosition},\n            EVETABLE: \"ORDRE\"\n        }`);\n        request(options, (error,response, body) => {\n            if (error){\n                reject(error);\n            }else {\n                resolve(body);\n            }\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/postEventAnd.js","const mongoose = require(\"mongoose\");\nconst Schema = mongoose.Schema;\n\nconst configSchema = new Schema({\n    name: { type: String, required: true, unique: true },\n    societe: { type: String, required: true},\n    isDefault: { type: Boolean, required: true},\n    chargementMode: { type: String, required: true},\n    dechargementMode: { type: String, required: true},\n    inventaireMode: { type: String, required: true},\n    logoutTime: { type: String, required: true},\n    wrongZoneAlert: { type: Boolean, required: true},\n    scanManuel: { type: Boolean, required: true}\n});\n\nconst Config = mongoose.model(\"Config\", configSchema);\nmodule.exports = Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/_MongoDB/models/config.js","const mongoose = require(\"mongoose\");\nconst Schema = mongoose.Schema;\n\nconst positionSchema = new Schema(\n    {\n        idPosition: { type: String, required: true, unique: true},\n        numPosition: { type: String, required: true, unique: true},\n        refClient: String,\n        nbColis: Number,\n        nbPalette: Number,\n        nbColisFictif: Number,\n        poids: Number,\n        ml: Number,\n        col: Number,\n        colisSurPal: Number,\n        dateImpLiv: Date,\n        clientNom: String,\n        expediteurNom: String,\n        expediteurAdresse: String,\n        expediteurVille: String,\n        expediteurCp: String,\n        chargementNom: String,\n        chargementAdresse: String,\n        chargementVille: String,\n        chargementCp: Number,\n        livraisonNom: String,\n        livraisonAdresse: String,\n        livraisonVille: String,\n        livraisonCp: Number,\n        zoneQuaiTheorique: String,\n        codebarre: Array,\n        societe: String,\n        evenement: Array\n    });\n\nconst Position = mongoose.model(\"Position\", positionSchema);\n\nmodule.exports = {\n    Position: Position,\n    positionSchema: positionSchema\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/_MongoDB/models/position.js","const nodemailer = require(\"nodemailer\");\n\nconst smtpConfig = {\n    host: \"smtp.gmail.com\",\n    port: 465,\n    secure: true, // use SSL\n    auth: {\n        user: \"servernode.dcs@gmail.com\",\n        pass: \"8Ed-xZs-2Bo-t2q\"\n    }\n};\nconst transporter = nodemailer.createTransport(smtpConfig);\n\n\n\n    // transporter.sendMail(mail.mailOptions);\n\nmodule.exports = mail => {\n    return new Promise((resolve, reject) => {\n        transporter.sendMail(mail,(err, info) =>{\n            if (err) {\n                reject(err);\n            }else {\n                resolve(info);\n            }\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/mail/nodemailer.js","// const storage = require(\"node-persist\");\nconst updateColisStorage = require(\"./updateColisStorage\");\nconst updateColisProd = require(\"./updateColisProd\");\nconst traitFullFlash = require(\"./traitFullFlash\");\n\nconst console = process.console;\n\nmodule.exports = function(num, action, user, zone, storage) {\n    return new Promise((resolve, reject) => {\n        updateColisStorage(num, action, user, zone, storage)\n            .then(pos => {\n                return storage.setItem(pos.numPosition, pos);\n            }).then(() => {\n                console.tag({\n                    msg: `UPDATE_STORAGE | ${action}`,\n                    colors: [\"italic\", \"magenta\", \"bgBlue\", \"bold\"]\n                }).time().file().info(`Update ${action} from ${num}`);\n                //update DB\n                return updateColisProd(num, action, user, zone);\n            }).then(() => {\n                if (zone != undefined) {\n                    console.tag({\n                        msg: `UPDATE_DB | ${action}`,\n                        colors: [\"italic\", \"magenta\", \"bgWhite\", \"bold\"]\n                    }).time().file().info(`Update ${action} from ${num} at ${zone}`);\n                } else {\n                    console.tag({\n                        msg: `UPDATE_DB | ${action}`,\n                        colors: [\"italic\", \"magenta\", \"bgWhite\", \"bold\"]\n                    }).time().file().info(`Update ${action} from ${num}`);\n                }\n                //check if fullFlash de l'action\n                return traitFullFlash(num, action, storage);\n            }).then(() => {\n                resolve();\n            }).catch( err => {\n                reject(err);\n            });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/traitColis.js","module.exports = require(\"request\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 11\n// module chunks = 0","\"use strict\";\nconst express = require(\"express\");\nconst helmet = require(\"helmet\");\nconst app = express();\nconst busboy = require(\"connect-busboy\");\nconst scribe = require(\"scribe-js\")();\nconst console = process.console;\nconst storage = require(\"node-persist\");\nconst UserDcs = require(\"./_MongoDB/models/userdcs\");\nconst sendMail = require(\"./mail/nodemailer\");\n\napp.use(helmet());\n\n//MongoDB\nconst mongoose = require(\"mongoose\");\n\nmongoose.connect(\"mongodb://RomainHori:Dealtis25-@localhost:27017/Horizon\");\n\n// Use native promises\nmongoose.Promise = Promise;\n\n//Model\nconst UserApi = require(\"./_MongoDB/models/userapi\");\n\n//Port Websocket\nconst server = require(\"http\").Server(app);\nconst io = require(\"socket.io\")(server);\nserver.listen(8081);\n\nconst port = process.env.PORT || 8080;\nconst router = express.Router();\n\napp.get(\"/setup\", (req, res) => {\n    var Romain = new UserApi({\n        name: \"Romain\",\n        token: \"w25K}54dkaE/[dgduVqcX9VicQF17u\",\n        societe: \"STJ25\"\n    });\n    Romain.save(function(err) {\n        if (err) throw err;\n\n        console.log(\"User saved successfully\");\n        res.json({\n            success: true\n        });\n    });\n});\n\napp.use(busboy());\n\nrouter.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, x-access-token\");\n    if (\"OPTIONS\" == req.method) {\n        res.sendStatus(200);\n    } else {\n        next();\n    }\n});\n\n//Token Security for api\nrouter.use(function(req, res, next) {\n    UserApi.findOne({\n        token: req.headers[\"x-access-token\"]\n    }, (err, user) => {\n        if (err) throw err;\n        if (!user) {\n            return res.status(403).send({\n                success: false,\n                message: \"No token provided.\"\n            });\n        } else if (user) {\n            next();\n        }\n    });\n});\n\n//Store position Andsoft\nconst storePos = storage.create({\n    dir: \"storePos\",\n    ttl: true,\n    expiredInterval: 2 * 60 * 1000\n});\n\nstorePos.init()\n  .then(() => {\n      console.tag({\n          msg: \"STORAGEPOS | UP\",\n          colors: [\"italic\", \"grey\", \"bold\"]\n      }).time().file().info(\"Storage up\");\n  }).catch(e => {\n      console.tag({\n          msg: \"STORAGEPOS | DOWN\",\n          colors: [\"italic\", \"red\", \"bold\"]\n      }).time().file().error(e);\n  });\n\nrequire(\"./organisms/getPosition\")(router, console, storePos);\nrequire(\"./organisms/apiStore\")(router, console, storePos);\nrequire(\"./organisms/apiMongo\")(router);\nrequire(\"./molecules/getSalarie\")(router, console);\nrequire(\"./molecules/getZone\")(router, console);\nrequire(\"./molecules/getZones\")(router, console);\nrequire(\"./molecules/getEvents\")(router, console);\nrequire(\"./molecules/postImage\")(router, console);\nrequire(\"./molecules/getIcoEvents\")(router, console);\nrequire(\"./molecules/postEvent\")(router, console, storePos);\nrequire(\"./organisms/getInfoGroupage\")(router, console);\nrequire(\"./molecules/createChargement\")(router, console);\nrequire(\"./molecules/createConfig\")(router, console);\nrequire(\"./molecules/getConfig\")(router, console);\nrequire(\"./molecules/chargementExist\")(router);\nrequire(\"./molecules/userInChargement\")(router);\n\nrequire(\"./organisms/socket\")(io,console, storePos);\n\napp.use(\"/api\", router);\napp.listen(port);\n\napp.use(\"/logs\", scribe.webPanel());\napp.use(scribe.express.logger());\n\n//disconnect all user\nUserDcs.find({}, (err, users) => {\n    if (err) throw err;\n    users.forEach(user => {\n        user.connected = false;\n        user.save((err) => {\n            if (err) throw err;\n        });\n    });\n});\n\nconsole.tag({\n    msg: \"START\",\n    colors: [\"italic\", \"green\", \"bold\"]\n}).time().file().info(`Magic happens on port ${port}`);\n\n// const startMail = require(\"./mail/startMail\");\n//\n// sendMail(startMail)\n// .then(res => {\n//     console.log(res.accepted);\n// })\n// .catch(err =>{\n//     console.log(err);\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const mongoose = require(\"mongoose\");\nconst Schema = mongoose.Schema;\n\nconst userApiSchema = new Schema({\n    name: { type: String, required: true, unique: true },\n    token: { type: String, required: true, unique: true },\n    societe: { type: String, required: true},\n    created_at: Date,\n    updated_at: Date\n});\n\nuserApiSchema.pre(\"save\", function(next) {\n  // get the current date\n    var currentDate = new Date();\n\n  // change the updated_at field to current date\n    this.updated_at = currentDate;\n\n  // if created_at doesn't exist, add to that field\n    if (!this.created_at)\n        this.created_at = currentDate;\n\n    next();\n});\n\nconst UserApi = mongoose.model(\"UserApi\", userApiSchema);\nmodule.exports = UserApi;\n\n\n\n// WEBPACK FOOTER //\n// ./src/_MongoDB/models/userapi.js","module.exports = (porte, societe, user) => {\n    return {\n        from: \"\\\"server DCS\\\" <servernode.dcs@gmail.com>\", // sender address\n        to: \"vanardois.romain@gmail.com, aregazzoni@dealtis.fr\", // list of receivers\n        subject: `Erreur Chargement ${porte} chez ${societe}`,\n        text: \"Server DCS START\",\n    /*eslint-disable */\n    html: `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional //EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><!--[if IE]><html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"ie-browser\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\"><![endif]--><!--[if !IE]><!--><html style=\"margin: 0;padding: 0;\" xmlns=\"http://www.w3.org/1999/xhtml\"><!--<![endif]--><head>\n          <!--[if gte mso 9]><xml>\n           <o:OfficeDocumentSettings>\n            <o:AllowPNG/>\n            <o:PixelsPerInch>96</o:PixelsPerInch>\n           </o:OfficeDocumentSettings>\n          </xml><![endif]-->\n          <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n          <meta name=\"viewport\" content=\"width=device-width\">\n          <!--[if !mso]><!--><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><!--<![endif]-->\n          <title>Template Base</title>\n          <!--[if !mso]><!-- -->\n      \t<link href=\"https://fonts.googleapis.com/css?family=Montserrat\" rel=\"stylesheet\" type=\"text/css\">\n      \t<!--<![endif]-->\n\n          <style type=\"text/css\" id=\"media-query\">\n            body {\n        margin: 0;\n        padding: 0; }\n\n      table, tr, td {\n        vertical-align: top;\n        border-collapse: collapse; }\n\n      .ie-browser table, .mso-container table {\n        table-layout: fixed; }\n\n      * {\n        line-height: inherit; }\n\n      a[x-apple-data-detectors=true] {\n        color: inherit !important;\n        text-decoration: none !important; }\n\n      [owa] .img-container div, [owa] .img-container button {\n        display: block !important; }\n\n      [owa] .fullwidth button {\n        width: 100% !important; }\n\n      .ie-browser .col, [owa] .block-grid .col {\n        display: table-cell;\n        float: none !important;\n        vertical-align: top; }\n\n      .ie-browser .num12, .ie-browser .block-grid, [owa] .num12, [owa] .block-grid {\n        width: 500px !important; }\n\n      .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div {\n        line-height: 100%; }\n\n      .ie-browser .mixed-two-up .num4, [owa] .mixed-two-up .num4 {\n        width: 164px !important; }\n\n      .ie-browser .mixed-two-up .num8, [owa] .mixed-two-up .num8 {\n        width: 328px !important; }\n\n      .ie-browser .block-grid.two-up .col, [owa] .block-grid.two-up .col {\n        width: 250px !important; }\n\n      .ie-browser .block-grid.three-up .col, [owa] .block-grid.three-up .col {\n        width: 166px !important; }\n\n      .ie-browser .block-grid.four-up .col, [owa] .block-grid.four-up .col {\n        width: 125px !important; }\n\n      .ie-browser .block-grid.five-up .col, [owa] .block-grid.five-up .col {\n        width: 100px !important; }\n\n      .ie-browser .block-grid.six-up .col, [owa] .block-grid.six-up .col {\n        width: 83px !important; }\n\n      .ie-browser .block-grid.seven-up .col, [owa] .block-grid.seven-up .col {\n        width: 71px !important; }\n\n      .ie-browser .block-grid.eight-up .col, [owa] .block-grid.eight-up .col {\n        width: 62px !important; }\n\n      .ie-browser .block-grid.nine-up .col, [owa] .block-grid.nine-up .col {\n        width: 55px !important; }\n\n      .ie-browser .block-grid.ten-up .col, [owa] .block-grid.ten-up .col {\n        width: 50px !important; }\n\n      .ie-browser .block-grid.eleven-up .col, [owa] .block-grid.eleven-up .col {\n        width: 45px !important; }\n\n      .ie-browser .block-grid.twelve-up .col, [owa] .block-grid.twelve-up .col {\n        width: 41px !important; }\n\n      @media only screen and (min-width: 520px) {\n        .block-grid {\n          width: 500px !important; }\n        .block-grid .col {\n          display: table-cell;\n          Float: none !important;\n          vertical-align: top; }\n          .block-grid .col.num12 {\n            width: 500px !important; }\n        .block-grid.mixed-two-up .col.num4 {\n          width: 164px !important; }\n        .block-grid.mixed-two-up .col.num8 {\n          width: 328px !important; }\n        .block-grid.two-up .col {\n          width: 250px !important; }\n        .block-grid.three-up .col {\n          width: 166px !important; }\n        .block-grid.four-up .col {\n          width: 125px !important; }\n        .block-grid.five-up .col {\n          width: 100px !important; }\n        .block-grid.six-up .col {\n          width: 83px !important; }\n        .block-grid.seven-up .col {\n          width: 71px !important; }\n        .block-grid.eight-up .col {\n          width: 62px !important; }\n        .block-grid.nine-up .col {\n          width: 55px !important; }\n        .block-grid.ten-up .col {\n          width: 50px !important; }\n        .block-grid.eleven-up .col {\n          width: 45px !important; }\n        .block-grid.twelve-up .col {\n          width: 41px !important; } }\n\n      @media (max-width: 520px) {\n        .block-grid, .col {\n          min-width: 320px !important;\n          max-width: 100% !important; }\n        .block-grid {\n          width: calc(100% - 40px) !important; }\n        .col {\n          width: 100% !important; }\n          .col > div {\n            margin: 0 auto; }\n        img.fullwidth {\n          max-width: 100% !important; } }\n\n          </style>\n      </head>\n      <!--[if mso]>\n      <body class=\"mso-container\" style=\"background-color:#FFFFFF;\">\n      <![endif]-->\n      <!--[if !mso]><!-->\n      <body class=\"clean-body\" style=\"margin: 0;padding: 0;-webkit-text-size-adjust: 100%;background-color: #FFFFFF\">\n      <!--<![endif]-->\n        <div class=\"nl-container\" style=\"min-width: 320px;Margin: 0 auto;background-color: #FFFFFF\">\n          <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td align=\"center\" style=\"background-color: #FFFFFF;\"><![endif]-->\n\n          <div style=\"background-color:#ff5722;\">\n            <div style=\"Margin: 0 auto;min-width: 320px;max-width: 500px;width: 500px;width: calc(19000% - 98300px);overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\" class=\"block-grid \">\n              <div style=\"border-collapse: collapse;display: table;width: 100%;\">\n                <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"background-color:#ff5722;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 500px;\"><tr class=\"layout-full-width\" style=\"background-color:transparent;\"><![endif]-->\n\n                    <!--[if (mso)|(IE)]><td align=\"center\" width=\"500\" style=\" width:500px; padding-right: 0px; padding-left: 0px; padding-top:0px; padding-bottom:0px; border-top: 0px solid transparent; border-left: 0px solid transparent; border-bottom: 0px solid transparent; border-right: 0px solid transparent;\" valign=\"top\"><![endif]-->\n                  <div class=\"col num12\" style=\"min-width: 320px;max-width: 500px;width: 500px;width: calc(18000% - 89500px);background-color: transparent;\">\n                    <div style=\"background-color: transparent; width: 100% !important;\">\n                    <!--[if (!mso)&(!IE)]><!--><div style=\"border-top: 0px solid transparent; border-left: 0px solid transparent; border-bottom: 0px solid transparent; border-right: 0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;\"><!--<![endif]-->\n\n\n                          <div style=\"padding-right: 10px; padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\">\n        <!--[if (mso)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 10px;padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\"><table width=\"100%\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td><![endif]-->\n        <div align=\"center\"><div style=\"border-top: 10px solid transparent; width:100%; line-height:0px;\">&nbsp;</div></div>\n        <!--[if (mso)]></td></tr></table></td></tr></table><![endif]-->\n      </div>\n\n\n\n                          <!--[if mso]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 0px; padding-left: 0px; padding-top: 30px; padding-bottom: 30px;\"><![endif]-->\n      <div style=\"padding-right: 0px; padding-left: 0px; padding-top: 30px; padding-bottom: 30px;\">\n      \t<div style=\"font-size:12px;line-height:14px;color:#ffffff;font-family:Arial, 'Helvetica Neue', Helvetica, sans-serif;text-align:left;\"><p style=\"margin: 0;font-size: 14px;line-height: 17px;text-align: center\"><strong><span style=\"font-size: 28px; line-height: 33px;\">Erreur de chargement</span></strong></p></div>\n      </div>\n      <!--[if mso]></td></tr></table><![endif]-->\n\n\n\n                          <div style=\"padding-right: 10px; padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\">\n        <!--[if (mso)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 10px;padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\"><table width=\"100%\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td><![endif]-->\n        <div align=\"center\"><div style=\"border-top: 10px solid transparent; width:100%; line-height:0px;\">&nbsp;</div></div>\n        <!--[if (mso)]></td></tr></table></td></tr></table><![endif]-->\n      </div>\n\n\n\n                          <div align=\"center\" class=\"img-container center\" style=\"padding-right: 0px;  padding-left: 0px;\">\n      <!--[if mso]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 0px; padding-left: 0px;\" align=\"center\"><![endif]-->\n        <a href=\"https://beefree.io\" target=\"_blank\">\n          <img class=\"center\" align=\"center\" border=\"0\" src=\"http://i.imgur.com/Ms5LrbU.png\" alt=\"Image\" title=\"Image\" style=\"outline: none;text-decoration: none;-ms-interpolation-mode: bicubic;clear: both;display: block !important;border: none;height: auto;float: none;width: 100%;max-width: 256px\" width=\"256\">\n        </a>\n      <!--[if mso]></td></tr></table><![endif]-->\n      </div>\n\n\n                    <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->\n                    </div>\n                  </div>\n                <!--[if (mso)|(IE)]></td></tr></table></td></tr></table><![endif]-->\n              </div>\n            </div>\n          </div>    <div style=\"background-color:#61626F;\">\n            <div style=\"Margin: 0 auto;min-width: 320px;max-width: 500px;width: 500px;width: calc(19000% - 98300px);overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\" class=\"block-grid \">\n              <div style=\"border-collapse: collapse;display: table;width: 100%;\">\n                <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"background-color:#61626F;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 500px;\"><tr class=\"layout-full-width\" style=\"background-color:transparent;\"><![endif]-->\n\n                    <!--[if (mso)|(IE)]><td align=\"center\" width=\"500\" style=\" width:500px; padding-right: 0px; padding-left: 0px; padding-top:30px; padding-bottom:30px; border-top: 0px solid transparent; border-left: 0px solid transparent; border-bottom: 0px solid transparent; border-right: 0px solid transparent;\" valign=\"top\"><![endif]-->\n                  <div class=\"col num12\" style=\"min-width: 320px;max-width: 500px;width: 500px;width: calc(18000% - 89500px);background-color: transparent;\">\n                    <div style=\"background-color: transparent; width: 100% !important;\">\n                    <!--[if (!mso)&(!IE)]><!--><div style=\"border-top: 0px solid transparent; border-left: 0px solid transparent; border-bottom: 0px solid transparent; border-right: 0px solid transparent; padding-top:30px; padding-bottom:30px; padding-right: 0px; padding-left: 0px;\"><!--<![endif]-->\n\n\n                          <!--[if mso]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 10px; padding-left: 10px; padding-top: 25px; padding-bottom: 10px;\"><![endif]-->\n      <div style=\"padding-right: 10px; padding-left: 10px; padding-top: 25px; padding-bottom: 10px;\">\n      \t<div style=\"font-size:12px;line-height:14px;font-family:'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace;color:#ffffff;text-align:left;\"><p style=\"margin: 0;font-size: 12px;line-height: 14px;text-align: center\"><strong>\n        <span style=\"font-size: 18px; line-height: 21px;\">\n            Erreur sur le chargement ${porte} chez ${societe} cre par ${user}\n        </span></strong></p></div>\n      </div>\n      <!--[if mso]></td></tr></table><![endif]-->\n\n\n\n\n      <div align=\"center\" class=\"button-container center\" style=\"padding-right: 10px; padding-left: 10px; padding-top:15px; padding-bottom:10px;\">\n        <!--[if mso]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-spacing: 0; border-collapse: collapse; mso-table-lspace:0pt; mso-table-rspace:0pt;\"><tr><td style=\"padding-right: 10px; padding-left: 10px; padding-top:15px; padding-bottom:10px;\" align=\"center\"><v:roundrect xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" href=\"\" style=\"height:42px; v-text-anchor:middle; width:146px;\" arcsize=\"60%\" strokecolor=\"#C7702E\" fillcolor=\"#C7702E\"><w:anchorlock/><center style=\"color:#ffffff; font-family:'Montserrat', 'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size:16px;\"><![endif]-->\n          <div style=\"color: #ffffff; background-color: #C7702E; border-radius: 25px; -webkit-border-radius: 25px; -moz-border-radius: 25px; max-width: 126px; width: 86px; width: 25%; border-top: 0px solid transparent; border-right: 0px solid transparent; border-bottom: 0px solid transparent; border-left: 0px solid transparent; padding-top: 5px; padding-right: 20px; padding-bottom: 5px; padding-left: 20px; font-family: 'Montserrat', 'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; text-align: center; mso-border-alt: none;\">\n            <span style=\"font-size:16px;line-height:32px;\"><strong><span style=\"font-size: 14px; line-height: 28px;\" data-mce-style=\"font-size: 14px; line-height: 28px;\">Voir</span></strong></span>\n          </div>\n        <!--[if mso]></center></v:roundrect></td></tr></table><![endif]-->\n      </div>\n\n\n\n                          <div style=\"padding-right: 10px; padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\">\n        <!--[if (mso)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding-right: 10px;padding-left: 10px; padding-top: 10px; padding-bottom: 10px;\"><table width=\"100%\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td><![endif]-->\n        <div align=\"center\"><div style=\"border-top: 0px solid transparent; width:100%; line-height:0px;\">&nbsp;</div></div>\n        <!--[if (mso)]></td></tr></table></td></tr></table><![endif]-->\n      </div>\n\n\n                    <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->\n                    </div>\n                  </div>\n                <!--[if (mso)|(IE)]></td></tr></table></td></tr></table><![endif]-->\n              </div>\n            </div>\n          </div>   <!--[if (mso)|(IE)]></td></tr></table><![endif]-->\n        </div>\n      </body></html>`\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/mail/chargementErreur.js","const Chargement = require(\"./../_MongoDB/models/chargement\");\nconst {Position} = require(\"./../_MongoDB/models/position\");\nconst async = require(\"async\");\n//chargement exist\nmodule.exports = (router) =>{\n    router.get(\"/chargement/:token\", (req, res) => {\n        const token = req.params.token;\n        Chargement.findOne({\n            token: token\n        }).then((charg) => {\n            if (charg != null) {\n                const positions = [];\n                async.forEachOf(charg.positions, function (pos, key, callback) {\n                    Position.findOne({\n                        numPosition: pos\n                    }).then(item => {\n                        positions.push(item);\n                        callback();\n                    });\n                },() => {\n                    res.json(positions);\n                });\n            } else {\n                res.send(\"NotExist\");\n            }\n        }).catch(err => {\n            if (err) throw err;\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/chargementExist.js","const Chargement = require(\"./../_MongoDB/models/chargement\");\nconst moment = require(\"moment\");\n//Create Chargement\nmodule.exports = (router, console) =>{\n    router.post(\"/chargement/create\", (req, res) => {\n        const zone = req.query.zone;\n        const user = req.query.user;\n        const societe = req.query.societe;\n\n        const newCharg = new Chargement({\n            token: `${zone}-${societe}`,\n            status: \"progress\",\n            dateCrea: moment().format(),\n            userCrea: user,\n            logs: [],\n            societe: societe,\n            zone: zone,\n            positions: []\n        });\n\n        newCharg.save(function(err) {\n            if (err) throw err;\n\n            console.tag({\n                msg: \"CHARGEMENT\",\n                colors: [\"italic\", \"blue\", \"bold\"]\n            }).time().file().info(`Chargement Creation Done token = ${zone}-${societe}`);\n            res.send(\"Chargement Creation Done\");\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/createChargement.js","const Config = require(\"./../_MongoDB/models/config\");\n//Create Chargement\nmodule.exports = (router, console) => {\n    router.post(\"/config/create\", (req, res) => {\n        const name = req.query.name;\n        const societe = req.query.societe;\n        const chargementMode = req.query.typechargement;\n        const dechargementMode = req.query.typedechargement;\n        const inventaireMode = req.query.typeinventaire;\n        const logoutTime = req.query.logoutTime;\n\n        let def = false;\n\n        if (req.query.default == \"true\") {\n            def = true;\n        }else {\n            def = false;\n        }\n\n        let zoneAlert = false;\n\n        if (req.query.wrongZoneAlert == \"true\") {\n            zoneAlert = true;\n        }else {\n            zoneAlert = false;\n        }\n\n        let scanManuel = false;\n\n        if (req.query.scanManuel == \"true\") {\n            scanManuel = true;\n        }else {\n            scanManuel = false;\n        }\n\n        const newConfig = new Config({\n            name: name,\n            societe: societe,\n            isDefault: def,\n            chargementMode: chargementMode,\n            dechargementMode: dechargementMode,\n            inventaireMode: inventaireMode,\n            logoutTime:logoutTime,\n            wrongZoneAlert: zoneAlert,\n            scanManuel : scanManuel\n        });\n\n        newConfig.save(function(err) {\n            if (err){\n                res.status(500).send(err);\n                console.tag({\n                    msg: \"CONFIG\",\n                    colors: [\"italic\", \"GREEN\", \"bold\"]\n                }).time().file().error(err);\n            }else {\n                console.tag({\n                    msg: \"CONFIG\",\n                    colors: [\"italic\", \"GREEN\", \"bold\"]\n                }).time().file().info(`Config Creation Done token = ${name}-${societe}`);\n                res.send(\"Config Creation Done\");\n            }\n        });\n\n    });\n\n    router.post(\"/config/update\", (req, res) => {\n        const name = req.query.name;\n        const societe = req.query.societe;\n        const chargementMode = req.query.typechargement;\n        const dechargementMode = req.query.typedechargement;\n        const inventaireMode = req.query.typeinventaire;\n        const logoutTime = req.query.logoutTime;\n\n        let def = false;\n\n        if (req.query.default == \"true\") {\n            def = true;\n        }else {\n            def = false;\n        }\n\n        let zoneAlert = false;\n\n        if (req.query.wrongZoneAlert == \"true\") {\n            zoneAlert = true;\n        }else {\n            zoneAlert = false;\n        }\n\n        let scanManuel = false;\n\n        if (req.query.scanManuel == \"true\") {\n            scanManuel = true;\n        }else {\n            scanManuel = false;\n        }\n\n        Config.update(\n            {\n                name: name\n            },\n            {\n                $set: {\n                    \"societe\": societe,\n                    \"isDefault\": def,\n                    \"chargementMode\": chargementMode,\n                    \"dechargementMode\": dechargementMode,\n                    \"inventaireMode\": inventaireMode,\n                    \"logoutTime\":logoutTime,\n                    \"wrongZoneAlert\": zoneAlert,\n                    \"scanManuel\" : scanManuel\n                }\n            }, (err) => {\n                if (err){\n                    res.status(500).send(err);\n                    console.tag({\n                        msg: \"CONFIG UPDATE\",\n                        colors: [\"italic\", \"GREEN\", \"bold\"]\n                    }).time().file().error(err);\n                }else {\n                    console.tag({\n                        msg: \"CONFIG UPDATE\",\n                        colors: [\"italic\", \"GREEN\", \"bold\"]\n                    }).time().file().info(`Config Update Done token = ${name}-${societe}`);\n                    res.send(\"Config Update Done\");\n                }\n            });\n\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/createConfig.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = dms => {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n              .input(\"codedms\", sql.NVarChar, dms)\n              .query(`select\n                  DCONOMCONDUCTEUR as nom,\n                  DCOSOCCODE as nomsociete,\n                  DCOCODECONDUCTEUR as code,\n                  DCOIMEI as imei\n                  from DMSCONDUCTEUR where DCOTRANSICSCODE = @codedms`,\n                  (err, recordset) => {\n                      if (err) {\n                          reject(err);\n                      }\n                      resolve(recordset);\n                  });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getChauffeur.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nmodule.exports = function(idPosition) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"idPosition\", sql.Int, idPosition)\n            .query(`select\n                    OTLNUMCB as numero,\n                    COALESCE(OTLDTDEC, CAST('1900-01-01 00:00' AS DATETIME)) as dateDechargement,\n                    COALESCE(OTLDTCHA, CAST('1900-01-01 00:00' AS DATETIME)) as dateChargement,\n                    COALESCE(OTLDTINV, CAST('1900-01-01 00:00' AS DATETIME)) as dateInventaire,\n                    OTLQUIDEC as quiDechargement,\n                    OTLQUICHA as quiChargement,\n                    OTLQUIINV as quiInventaire,\n                    OTLCLASS as zoneDeQuai\n                    from ORDCOL WHERE OTLOTSID=@idPosition`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getColisProdTable.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nmodule.exports = function(idPosition, societe) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"idPosition\", sql.Int, idPosition)\n            .query(`select\n                    OTLNUMCB as numero,\n                    COALESCE(OTLDTDEC, CAST('1900-01-01 00:00' AS DATETIME)) as dateDechargement,\n                    COALESCE(OTLDTCHA, CAST('1900-01-01 00:00' AS DATETIME)) as dateChargement,\n                    COALESCE(OTLDTINV, CAST('1900-01-01 00:00' AS DATETIME)) as dateInventaire,\n                    OTLQUIDEC as quiDechargement,\n                    OTLQUICHA as quiChargement,\n                    OTLQUIINV as quiInventaire,\n                    OTLCLASS as zoneDeQuai\n                    from QUAI_${societe} WHERE OTLOTSID=@idPosition`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getColisTempTable.js","const Config = require(\"./../_MongoDB/models/config\");\n//chargement exist\nmodule.exports = (router, console) =>{\n    router.get(\"/config\", (req, res) => {\n        const name = req.query.name;\n        const societe = req.query.societe;\n        const isDefault = req.query.default;\n        if (isDefault == \"true\") {\n            Config.findOne({\n                isDefault: true,\n                societe: societe\n            }).then((config) => {\n                if (config != null) {\n                    console.tag({\n                        msg: \"CONFIG\",\n                        colors: [\"italic\", \"GREEN\", \"bold\"]\n                    }).time().file().info(`Config get Default ${societe}`);\n                    res.json(config);\n                } else {\n                    res.send(\"NotExist\");\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        }else {\n            if (name != undefined) {\n                Config.findOne({\n                    name: name\n                }).then((config) => {\n                    if (config != null) {\n                        console.tag({\n                            msg: \"CONFIG\",\n                            colors: [\"italic\", \"GREEN\", \"bold\"]\n                        }).time().file().info(`Config get Name ${name}`);\n                        res.json(config);\n                    } else {\n                        res.send(\"NotExist\");\n                    }\n                }).catch(err => {\n                    if (err) throw err;\n                });\n            }else {\n                if (societe != undefined) {\n                    Config.find({\n                        societe: societe\n                    }).then((configs) => {\n                        if (configs != null) {\n                            console.tag({\n                                msg: \"CONFIG\",\n                                colors: [\"italic\", \"GREEN\", \"bold\"]\n                            }).time().file().info(`Config get List ${societe}`);\n                            const arrayConfig =[];\n                            configs.forEach( item =>{\n                                arrayConfig.push(item.name);\n                            });\n                            res.json(arrayConfig);\n                        } else {\n                            res.send(\"NotExist\");\n                        }\n                    }).catch(err => {\n                        if (err) throw err;\n                    });\n                }else {\n                    Config.find({}).then((configs) => {\n                        if (configs != null) {\n                            res.json(configs);\n                        } else {\n                            res.send(\"NotExist\");\n                        }\n                    }).catch(err => {\n                        if (err) throw err;\n                    });\n                }\n            }\n        }\n\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getConfig.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nmodule.exports = function(idPosition) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"idPosition\", sql.Int, idPosition)\n            .query(`select\n                    OTETEVCODE as code,\n                    OTETEVLIBCL1 as libelle,\n                    OTEDATE as date,\n                    OTEVAL3 as remarque,\n                    OTEVAL1 as information\n                    from ORDEVE\n                    where OTEOTSID = @idPosition\n                    order by OTEID desc`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getEventProd.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = (router, console) =>{\n//GET EVENTS\n    router.get(\"/events\", (req, res) => {\n        new Promise((resolve, reject) => {\n            new sql.Request(conn)\n            .query(`select\n                    TEVCODE as code,\n                    TEVLIBL1 as libelle,\n                    TEVLIBCL1 as codelib\n                    from OTETYPE where TEVQUAI = 1\n                    and TEVACTIF=1`,\n                (err, recordset) => {\n                    if (err) {\n                        console.tag(\"EVENTS\").time().file().error(err);\n                        reject(err);\n                    }\n                    console.tag(\"EVENTS\").time().file().info(\"GET EVENTS\");\n                    resolve(recordset);\n                });\n        }).then(result => {\n            res.json(result);\n        }).catch(err => {\n            res.json({\n                error: err\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getEvents.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = num => {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"numero\", sql.NVarChar, num)\n            .query(`select TOP 1\n                DMSVOYBDX as numero,\n                DMSCODECHAUFFEUR as dms,\n                DMSDTEXPORT as dateRecu,\n                DMSDATEIMPORT as dateImport\n                from DMSDEALTIS where DMSDEALTIS.DMSVOYBDX = @numero`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getGroupage.js","module.exports = (router) =>{\n//GET ico EVENTS\n    router.get(\"/icoevent/:code\", (req, res) => {\n        res.sendFile(`/usr/project/Horizon/icoevents/${req.params.code}_50.png`);\n        // res.sendFile(`${__dirname}/icoevents/${req.params.code}_50.png`);\n        // res.sendFile(`${req.params.code}_50.png`, { root: \"/Users/eXtRa/Documents/Dev/Horizon/icoevents\"});\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getIcoEvents.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = code => {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n              .input(\"nom\", sql.NVarChar, code)\n              .query(`select top 3\n                      DMEID as id,\n                      DMEMESSAGE as message,\n                      DMEDATERECU as dateRecu\n                      from DMSMESSAGE where DMSMESSAGE.DMECODECHAUF = @nom\n                      and DMETYPE = 5\n                      order by DMSMESSAGE.DMEDATEC desc`,\n                  (err, recordset) => {\n                      if (err) {\n                          reject(err);\n                      }\n                      resolve(recordset);\n                  });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getMessageAdmin.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nconst s = `select\n            POS.OTSID as idPosition,\n            POS.OTSNUM as numPosition,\n            POS.OTSREF as refClient,\n            POS.OTSCOL as nbColis,\n            POS.OTSPAL as nbPalette,\n            POS.OTSPDS as poids,\n            COALESCE(POS.OTSLONG, 0) as ml,\n            COALESCE(POS.OTSDIV2, 0) as col,\n            COALESCE(POS.OTSUNI03, 0) as colisSurPal,\n            COALESCE(POS.OTSDTLIM, CAST('1900-01-01 00:00' AS DATETIME)) as dateImpLiv,\n            POS.OTSTIENOM as clientNom,\n            POS.OTSREMITTIENOM as expediteurNom,\n            POS.OTSREMITADR1 as expediteurAdresse,\n            POS.OTSREMITVILLIB as expediteurVille,\n            POS.OTSREMITVILCP as expediteurCp,\n            POS.OTSTIENOM as chargementNom,\n            POS.OTSDEPADR1 as chargementAdresse,\n            POS.OTSDEPUSRVILLIB as chargementVille,\n            POS.OTSDEPUSRVILCP as chargementCp,\n            POS.OTSARRNOM as livraisonNom,\n            POS.OTSARRADR1 as livraisonAdresse,\n            POS.OTSARRUSRVILLIB as livraisonVille,\n            POS.OTSARRUSRVILCP as livraisonCp,\n            QUALIBL1 AS zoneQuaiTheorique`;\nmodule.exports = function(num, societe) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"numColis\", sql.NVarChar, num)\n            .query(`${s} from dbo.ORDRE as POS, dbo.ORDCOL as COL ,  QUAI,TOURNEEVILLE\n                where POS.OTSID = COL.OTLOTSID\n                AND COL.OTLNUMCB=@numColis\n                AND POS.OTSSOCCODE like '${societe}%'\n                AND  otsarrvilid*= TOUVILID AND OTSVPECODE*=QUAVTOCODE and QUASOCCODE='${societe}';`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getPosOnlyColisProdTable.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = function(num, societe) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n                .input(\"numColis\", sql.NVarChar, num)\n                .query(`select\n                          OTSID as idPosition,\n                          OTSNUM as numPosition,\n                          OTSREF as refClient,\n                          OTSCOL as nbColis,\n                          OTSPAL as nbPalette,\n                          OTSPDS as poids,\n                          COALESCE(OTSLONG, 0) as ml,\n                          COALESCE(OTSDIV2, 0) as col,\n                          COALESCE(OTSUNI03, 0) as colisSurPal,\n                          COALESCE(OTSDTLIM, CAST('1900-01-01 00:00' AS DATETIME)) as dateImpLiv,\n                          OTSTIENOM as clientNom,\n                          OTSREMITTIENOM as expediteurNom,\n                          OTSREMITADR1 as expediteurAdresse,\n                          OTSREMITVILLIB as expediteurVille,\n                          OTSREMITVILCP as expediteurCp,\n                          OTSTIENOM as chargementNom,\n                          OTSDEPADR1 as chargementAdresse,\n                          OTSDEPUSRVILLIB as chargementVille,\n                          OTSDEPUSRVILCP as chargementCp,\n                          OTSARRNOM as livraisonNom,\n                          OTSARRADR1 as livraisonAdresse,\n                          OTSARRUSRVILLIB as livraisonVille,\n                          OTSARRUSRVILCP as livraisonCp,\n                          QUALIBL1 as zoneDeQuaiTheorique\n                          from QUAI_${societe}\n                          where OTLNUMCB=@numColis;`,\n                          (err, recordset) => {\n                              if (err) {\n                                  reject(err);\n                              }\n                              resolve(recordset);\n                          });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getPosOnlyColisTempTable.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nconst s = `select\n            POS.OTSID as idPosition,\n            POS.OTSNUM as numPosition,\n            POS.OTSREF as refClient,\n            POS.OTSCOL as nbColis,\n            POS.OTSPAL as nbPalette,\n            POS.OTSPDS as poids,\n            COALESCE(POS.OTSLONG, 0) as ml,\n            COALESCE(POS.OTSDIV2, 0) as col,\n            COALESCE(POS.OTSUNI03, 0) as colisSurPal,\n            COALESCE(POS.OTSDTLIM, CAST('1900-01-01 00:00' AS DATETIME)) as dateImpLiv,\n            POS.OTSTIENOM as clientNom,\n            POS.OTSREMITTIENOM as expediteurNom,\n            POS.OTSREMITADR1 as expediteurAdresse,\n            POS.OTSREMITVILLIB as expediteurVille,\n            POS.OTSREMITVILCP as expediteurCp,\n            POS.OTSTIENOM as chargementNom,\n            POS.OTSDEPADR1 as chargementAdresse,\n            POS.OTSDEPUSRVILLIB as chargementVille,\n            POS.OTSDEPUSRVILCP as chargementCp,\n            POS.OTSARRNOM as livraisonNom,\n            POS.OTSARRADR1 as livraisonAdresse,\n            POS.OTSARRUSRVILLIB as livraisonVille,\n            POS.OTSARRUSRVILCP as livraisonCp,\n            QUALIBL1 AS zoneQuaiTheorique`;\nmodule.exports = function(num, societe) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n            .input(\"numColis\", sql.NVarChar, num)\n            .query(`${s} from dbo.ORDRE as POS, dbo.ORDCOL as COL ,  QUAI,TOURNEEVILLE\n                where POS.OTSID = COL.OTLOTSID\n                AND COL.OTLNUMCB=@numColis\n                AND POS.OTSSOCCODE like '${societe}%'\n                AND  otsarrvilid*= TOUVILID AND OTSVPECODE*=QUAVTOCODE and QUASOCCODE='${societe}'\n                UNION ${s} from dbo.ORDRE as POS, dbo.ORDCOL as COL,QUAI,TOURNEEVILLE\n                where POS.OTSID = COL.OTLOTSID\n                AND otsarrvilid*= TOUVILID AND OTSVPECODE*=QUAVTOCODE and QUASOCCODE='${societe}'\n                AND POS.OTSNUM=@numColis\n                AND POS.OTSSOCCODE like '${societe}%';`,\n                (err, recordset) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(recordset);\n                });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getPosProdTable.js","module.exports = function(num, storage) {\n    return new Promise( (resolve,reject) => {\n        try {\n            storage.values().forEach( pos => {\n                pos.codebarre.forEach(cb => {\n                    if (cb.numero === num) {\n                        resolve(pos);\n                    }\n                });\n            });\n            resolve(undefined);\n        } catch (e) {\n            reject(e);\n        }\n\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getPosStorage.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = function(num, societe) {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n                .input(\"numColis\", sql.NVarChar, num)\n                .query(`select\n                          OTSID as idPosition,\n                          OTSNUM as numPosition,\n                          OTSREF as refClient,\n                          OTSCOL as nbColis,\n                          OTSPAL as nbPalette,\n                          OTSPDS as poids,\n                          COALESCE(OTSLONG, 0) as ml,\n                          COALESCE(OTSDIV2, 0) as col,\n                          COALESCE(OTSUNI03, 0) as colisSurPal,\n                          COALESCE(OTSDTLIM, CAST('1900-01-01 00:00' AS DATETIME)) as dateImpLiv,\n                          OTSTIENOM as clientNom,\n                          OTSREMITTIENOM as expediteurNom,\n                          OTSREMITADR1 as expediteurAdresse,\n                          OTSREMITVILLIB as expediteurVille,\n                          OTSREMITVILCP as expediteurCp,\n                          OTSTIENOM as chargementNom,\n                          OTSDEPADR1 as chargementAdresse,\n                          OTSDEPUSRVILLIB as chargementVille,\n                          OTSDEPUSRVILCP as chargementCp,\n                          OTSARRNOM as livraisonNom,\n                          OTSARRADR1 as livraisonAdresse,\n                          OTSARRUSRVILLIB as livraisonVille,\n                          OTSARRUSRVILCP as livraisonCp,\n                          QUALIBL1 as zoneQuaiTheorique\n                          from QUAI_${societe}\n                          where OTLNUMCB=@numColis\n                          UNION\n                          select\n                          OTSID as idPosition,\n                          OTSNUM as numPosition,\n                          OTSREF as refClient,\n                          OTSCOL as nbColis,\n                          OTSPAL as nbPalette,\n                          OTSPDS as poids,\n                          COALESCE(OTSLONG, 0) as ml,\n                          COALESCE(OTSDIV2, 0) as col,\n                          COALESCE(OTSUNI03, 0) as colisSurPal,\n                          COALESCE(OTSDTLIM, CAST('1900-01-01 00:00' AS DATETIME)) as dateImpLiv,\n                          OTSTIENOM as clientNom,\n                          OTSREMITTIENOM as expediteurNom,\n                          OTSREMITADR1 as expediteurAdresse,\n                          OTSREMITVILLIB as expediteurVille,\n                          OTSREMITVILCP as expediteurCp,\n                          OTSTIENOM as chargementNom,\n                          OTSDEPADR1 as chargementAdresse,\n                          OTSDEPUSRVILLIB as chargementVille,\n                          OTSDEPUSRVILCP as chargementCp,\n                          OTSARRNOM as livraisonNom,\n                          OTSARRADR1 as livraisonAdresse,\n                          OTSARRUSRVILLIB as livraisonVille,\n                          OTSARRUSRVILCP as livraisonCp,\n                          QUALIBL1 as zoneQuaiTheorique\n                          from QUAI_${societe}\n                          WHERE OTSNUM=@numColis;`,\n                          (err, recordset) => {\n                              if (err) {\n                                  reject(err);\n                              }\n                              resolve(recordset);\n                          });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getPosTempTable.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nconst moment = require(\"moment\");\n\nmodule.exports = code => {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n              .input(\"code\", sql.NVarChar, code)\n              .query(`select\n                      OTPTRSCODE as type,\n                      count(distinct(otpid)) as nbPosition ,\n                      count(distinct(dbo.DMSSUIVILIV.DMSUIVIOTSNUM)) AS nbFait\n                      from DMSCONDUCTEUR , voyage , ordpla , DMSSUIVILIV\n                      where dbo.DMSSUIVILIV.DMSSUIVIVOYBDX=voybdx\n                      and dbo.VOYAGE.VOYID=otpvoyid\n                      and dbo.DMSSUIVILIV.DMSUIVIOTSNUm=*otpotsnum\n                      and VOYCHSALCODE = dbo.DMSCONDUCTEUR.DCOCODECONDUCTEUR\n                      AND datediff(day, VOYDEPDTDEB, '${moment().format(\"MM/DD/YYYY\")}') = 0\n                      AND dbo.DMSCONDUCTEUR.DCOCODECONDUCTEUR = @code\n                      group by  dcocodeconducteur,OTPTRSCODE`,\n                  (err, recordset) => {\n                      if (err) {\n                          reject(err);\n                      }\n                      resolve(recordset);\n                  });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getProgressDms.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nconst UserDcs = require(\"./../_MongoDB/models/userdcs\");\n\n//GET SALARIE\nmodule.exports = (router, console) =>{\n    router.get(\"/salarie/:val\", (req, res) => {\n        new sql.Request(conn).input(\"val\", sql.NVarChar, req.params.val)\n            .query(\"SELECT TOP 1 SALCODE, SALSOCCODE FROM SALARIE WHERE SALCODE=@val OR SALNUMPERMIS=@val\", function(err, recordset) {\n                if (err) {\n                    console.tag(\"SALARIE\").time().file().error(err);\n                    res.status(500).send(err);\n                }\n                if (recordset.length === 0) {\n                    console.tag(\"SALARIE\").time().file().info(`${req.params.val} No result`);\n                    res.status(204).send(\"No result\");\n                }else {\n                    UserDcs.findOne({\n                        code: recordset[0].SALCODE\n                    }, (err, user) => {\n                        if (err) throw err;\n                        if (user != null) {\n                            // if (user.connected) {\n                            //     console.tag(\"SALARIE\").time().file().info(`${recordset[0].SALCODE} already connected`);\n                            //     res.status(409).send(\"User already connected\");\n                            // }else {\n                            console.tag(\"SALARIE\").time().file().info(req.params.val);\n                            res.status(200).json(recordset);\n                            user.lastConn = new Date();\n                            user.connected = true;\n                            user.save((err) => {\n                                if (err) throw err;\n                            });\n                            // }\n                        }else {\n                            console.tag(\"SALARIE\").time().file().info(req.params.val);\n                            res.status(200).json(recordset);\n\n                            const newuser = new UserDcs({\n                                code: recordset[0].SALCODE,\n                                societe: recordset[0].SALSOCCODE,\n                                connected:true\n                            });\n                            newuser.save(function(err) {\n                                if (err) throw err;\n                            });\n                        }\n                    });\n                }\n            });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getSalarie.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\nconst moment = require(\"moment\");\n\nmodule.exports = dms => {\n    return new Promise((resolve, reject) => {\n        new sql.Request(conn)\n              .input(\"dms\", sql.NVarChar, dms)\n              .query(`SELECT\n                      DMSOTSNUM as numeroPos,\n                      DMSUIVICODEANO as codeEvent,\n                      DMSNOMCLIENT as clientNom\n                      FROM DMSSUIVILIV,DMSDEALTIS\n                      WHERE DMSOTSNUM = DMSUIVIOTSNUM\n                      AND DMSVOYBDX = DMSSUIVIVOYBDX\n                      AND DMSCODECHAUFFEUR = @dms\n                      AND datediff(day, DMSUIVIDATE, '${moment().format(\"MM/DD/YYYY\")}') = 0\n                      ORDER BY DMSUIVIDATE desc`,\n                  (err, recordset) => {\n                      if (err) {\n                          reject(err);\n                      }\n                      resolve(recordset);\n                  });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getSuiviDms.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = (router, console) =>{\n//GET ZONE\n    router.get(\"/zone/:val\", (req, res) => {\n        new Promise((resolve, reject) => {\n            new sql.Request(conn).input(\"val\", sql.NVarChar, req.params.val)\n            .query(`SELECT\n                    QUACODEL1 as codeZone,\n                    QUALIBL1 as libZone\n                    FROM QUAI\n                    WHERE QUASOCCODE LIKE '${req.query.societe}'\n                    AND QUACODEL1 = @val`,\n                (err, recordset) => {\n                    if (err) {\n                        console.tag(\"ZONE\").time().file().error(err);\n                        reject(err);\n                    }\n                    console.tag(\"ZONE\").time().file().info(req.params.val);\n                    resolve(recordset);\n                });\n        }).then(result => {\n            res.json(result[0]);\n        }).catch(err => {\n            res.json({\n                error: err\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getZone.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = (router, console) =>{\n//GET ZONES\n    router.get(\"/zones/:soc\", (req, res) => {\n        new Promise((resolve, reject) => {\n            new sql.Request(conn).input(\"val\", sql.NVarChar, req.params.soc)\n            .query(`SELECT\n                    QUACODEL1 as codeZone,\n                    QUALIBL1 as libZone\n                    FROM QUAI\n                    WHERE QUASOCCODE LIKE @val`,\n                (err, recordset) => {\n                    if (err) {\n                        console.tag(\"ZONE\").time().file().error(err);\n                        reject(err);\n                    }\n                    console.tag(\"ZONES\").time().file().info(req.params.soc);\n                    resolve(recordset);\n                });\n        }).then(result => {\n            res.json(result);\n        }).catch(err => {\n            res.json({\n                error: err\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/getZones.js","const postEventAnd = require(\"./postEventAnd\");\nconst moment = require(\"moment\");\nconst traitColis = require(\".//traitColis\");\n\nmodule.exports = (router, console, storage) => {\n  //POST EVENT\n    router.post(\"/event\", function(req, res) {\n        postEventAnd(req.query.codeEvent,req.query.libEvent, req.query.remarque, req.query.user, req.query.idPosition)\n        .then((data) =>{\n            console.log(`Event post successfully ${data}`);\n            res.status(200).send(\"Event post successfully\");\n        }).catch((err)=>{\n            console.error(err);\n            res.status(500).send(err);\n        });\n        const sch = storage.values().find((o) => {\n            return o.idPosition == req.query.idPosition;\n        });\n\n        if (sch != undefined) {\n            sch.evenement.push({\n                \"information\":\"\",\n                \"remarque\":req.query.remarque,\n                \"date\":moment().format(),\n                \"libelle\":req.query.libEvent,\n                \"code\":req.query.codeEvent,\n                \"source\":\"DCS\"\n            });\n\n            storage.setItem(sch.numPosition, sch);\n\n            if (req.query.codeEvent == \"COMPLET\") {\n                if (req.query.zone != undefined) {\n                    sch.codebarre.forEach(colis =>{\n                        traitColis(colis.numero, \"inventaire\", req.query.user, req.query.zone,storage);\n                    });\n                }else {\n                    sch.codebarre.forEach(colis =>{\n                        traitColis(colis.numero, \"dechargement\", req.query.user, \"\",storage);\n                    });\n                }\n            }\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/postEvent.js","const fs = require(\"fs\");\nconst Client = require(\"ftp\");\n\nconst connectionProperties = {\n    host: \"10.1.2.75\",\n    user: \"DMS\",\n    password: \"Linuxr00tn\"\n};\n\nmodule.exports = (router, console) => {\n  //POST IMAGE\n    router.post(\"/image\", function(req, res) {\n        const c = new Client();\n        let fstream;\n        req.pipe(req.busboy);\n        req.busboy.on(\"file\", (fieldname, file, filename) => {\n            console.tag(\"UPLOAD_IMG\").time().file().info(`Start upload ${filename}`);\n            fstream = fs.createWriteStream(\"images/\" + filename);\n            file.pipe(fstream);\n\n            fstream.on(\"error\", err => {\n                console.tag({\n                    msg: \"UPLOAD_IMG\",\n                    colors: [\"blue\", \"bold\"]\n                }).time().file().error(err);\n                res.status(500).send(err);\n            });\n\n            fstream.on(\"finish\", () => {\n                console.tag({\n                    msg: \"UPLOAD_IMG\",\n                    colors: [\"blue\", \"bold\"]\n                }).time().file().info(`Finish upload ${filename}`);\n\n                c.on(\"ready\", function() {\n                    c.put(\"images/\" + filename, filename.replace(\".jpg\", \"-1_1.jpg\"), function(err) {\n                        if (err) throw err;\n                        console.log(`put de ${filename}`);\n                        c.end();\n                    });\n                });\n\n                c.connect(connectionProperties);\n                res.end();\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/postImage.js","\"use strict\";\nconst moment = require(\"moment\");\nconst console = process.console;\nconst postEventAnd = require(\"./postEventAnd\");\n\nmodule.exports = function(num, action, storage) {\n    return new Promise((resolve,reject) => {\n        try {\n            storage.values().forEach(pos => {\n                pos.codebarre.forEach(cb => {\n                    if (cb.numero === num) {\n                        //is all colis flashe today in this action ?\n                        let i = 0;\n                        pos.codebarre.forEach(colis => {\n                            switch (action) {\n                            case \"chargement\":\n                                if (moment(colis.dateChargement).isSame(moment().format(), \"day\")) {\n                                    i++;\n                                }\n                                break;\n                            case \"dechargement\":\n                                if (moment(colis.dateDechargement).isSame(moment().format(), \"day\")) {\n                                    i++;\n                                }\n                                break;\n                            case \"inventaire\":\n                                if (moment(colis.dateInventaire).isSame(moment().format(), \"day\")) {\n                                    i++;\n                                }\n                                break;\n                            }\n                        });\n\n                        if (i == pos.codebarre.length) {\n                            switch (action) {\n                            case \"chargement\":\n                                //si EventDoneAt not  la date du jours ou inexistant > faire l'event\n                                if (pos.ChargementEventDoneAt == undefined || !(moment(pos.ChargementEventDoneAt).isSame(moment().format(), \"day\"))) {\n                                    pos.ChargementEventDoneAt = moment().format();\n                                    // TODO creation de l'event\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"magenta\", \"bgYellow\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} for ${num}`);\n                                } else {\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"bgRed\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} already done today for ${num}`);\n                                }\n                                break;\n                            case \"dechargement\":\n                            //si EventDoneAt not  la date du jours ou inexistant > faire l'event\n                                if (pos.DechargementEventDoneAt == undefined || !(moment(pos.DechargementEventDoneAt).isSame(moment().format(), \"day\"))) {\n                                    pos.DechargementEventDoneAt = moment().format();\n                                    //si il a eu un autre event ne rien faire\n                                    const sch = pos.evenement.find((o)=>{\n                                        return o.source == \"DCS\" && (o.code.indexOf(\"AAR\") > -1);\n                                    });\n                                    console.log(sch);\n                                    if (sch == undefined) {\n                                        postEventAnd(\"AARCFM\",\"\",\"\", \"\", pos.idPosition);\n                                    }\n\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"magenta\", \"bgYellow\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} for ${num}`);\n                                } else {\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"bgRed\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} already done today for ${num}`);\n                                }\n                                break;\n                            case \"inventaire\":\n                            //si EventDoneAt not  la date du jours ou inexistant > faire l'event\n                                if (pos.InventaireEventDoneAt == undefined || !(moment(pos.InventaireEventDoneAt).isSame(moment().format(), \"day\"))) {\n                                    pos.InventaireEventDoneAt = moment().format();\n\n                                    const sch = pos.evenement.find((o)=>{\n                                        return o.code == \"AARCFM\";\n                                    });\n\n                                    if (sch == undefined) {\n                                        postEventAnd(\"AARCFM\",\"\",\"\", \"\", pos.idPosition);\n                                    }\n\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"magenta\", \"bgYellow\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} for ${num}`);\n                                } else {\n                                    console.tag({\n                                        msg: `EVENT_FULL | ${action}`,\n                                        colors: [\"bgRed\", \"bold\"]\n                                    }).time().file().info(`Event full ${action} already done today for ${num}`);\n                                }\n                                break;\n                            }\n                            storage.setItem(pos.numPosition, pos);\n                        }\n                        resolve();\n                    }\n                });\n            });\n        } catch (e) {\n            reject(e);\n        }\n\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/traitFullFlash.js","const sql = require(\"mssql\");\nconst conn = require(\"./../conn\");\n\nmodule.exports = function(numColis, action, user, zone) {\n    return new Promise((resolve, reject) => {\n        const req = new sql.Request(conn)\n            .input(\"numColis\", sql.NVarChar, numColis)\n            .input(\"user\", sql.NVarChar, user);\n        switch (action) {\n        case \"chargement\":\n            req.query(`UPDATE ORDCOL\n                    SET\n                    OTLDTCHA = GETDATE(),\n                    OTLQUICHA = @user\n                    where OTLNUMCB = @numColis`,\n                    err => {\n                        if (err) {\n                            reject(err);\n                        }\n                        resolve();\n                    });\n            break;\n        case \"dechargement\":\n            req.input(\"zone\", sql.NVarChar, zone);\n            req.query(`UPDATE ORDCOL\n                        SET\n                        OTLDTDEC = GETDATE(),\n                        OTLQUIDEC = @user,\n                        OTLCLASS = @zone\n                        where OTLNUMCB = @numColis`,\n                    err => {\n                        if (err) {\n                            reject(err);\n                        }\n                        resolve();\n                    });\n            break;\n        case \"inventaire\":\n            req.input(\"zone\", sql.NVarChar, zone);\n            req.query(`UPDATE ORDCOL\n                            SET\n                            OTLDTINV = GETDATE(),\n                            OTLQUIINV = @user,\n                            OTLCLASS = @zone\n                            where OTLNUMCB = @numColis`,\n                    err => {\n                        if (err) {\n                            reject(err);\n                        }\n                        resolve();\n                    });\n            break;\n        default:\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/updateColisProd.js","const moment = require(\"moment\");\nconst _ = require(\"lodash\");\nconst postEventAnd = require(\"./postEventAnd\");\n\nmodule.exports = function(num, action, user, zone, storage) {\n    return new Promise((resolve,reject) => {\n        try {\n            storage.values().forEach( pos => {\n                pos.codebarre.forEach(cb => {\n                    if (cb.numero === num) {\n                        switch (action) {\n                        case \"chargement\":\n                            cb.dateChargement = moment().format();\n                            cb.quiChargement = user;\n                            break;\n                        case \"dechargement\":\n                            cb.dateDechargement = moment().format();\n                            cb.quiDechargement = user;\n                            cb.zoneDeQuai = zone;\n                            break;\n                        case \"inventaire\":\n                            var schColis = _.find(pos.codebarre, (o) => {\n                                return moment(o.dateInventaire).isSame(moment().format(), \"day\") && o.zoneDeQuai == zone;\n                            });\n                            if (schColis == undefined) {\n                                postEventAnd(\"INVQUAI\",\"INVQUAI\",zone, user, pos.idPosition);\n                                // .then((data)=>{\n                                //     console.log(data);\n                                // }).catch((err) =>{\n                                //     console.log(err);\n                                // });\n                            }\n\n                            cb.dateInventaire = moment().format();\n                            cb.quiInventaire = user;\n                            cb.zoneDeQuai = zone;\n                            break;\n                        }\n                        resolve(pos);\n                    }\n                });\n            });\n            resolve(undefined);\n        } catch (e) {\n            reject(e);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/updateColisStorage.js","const Chargement = require(\"./../_MongoDB/models/chargement\");\n\n//chargement exist\nmodule.exports = (router) =>{\n    router.get(\"/userInChargement/:token\", (req, res) => {\n        const token = req.params.token;\n        Chargement.findOne({\n            token: token\n        }).then((charg) => {\n            if (charg != null) {\n                res.json(charg.users);\n            } else {\n                res.send(\"NotExist\");\n            }\n        }).catch(err => {\n            if (err) throw err;\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/molecules/userInChargement.js","const Chargement = require(\"./../_MongoDB/models/chargement\");\n\nmodule.exports = (router) => {\n\n    //GET STORECHARG\n    router.get(\"/storeCharg\", (req, res) => {\n        // get all the users\n        Chargement.find({}, function(err, chargs) {\n            if (err) throw err;\n            res.json(chargs);\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/organisms/apiMongo.js","module.exports = (router, console, storePos) => {\n    //GET STOREPOS\n    router.get(\"/storePos\", (req, res) => {\n        res.json(storePos.values());\n    });\n\n    // //GET STORECHARG\n    // router.get(\"/storeCharg\", (req, res) => {\n    //     res.json(storeCharg.values());\n    // });\n\n    //clear STOREPOS\n    router.get(\"/storePos/clear\", (req, res) => {\n        storePos.clear()\n            .then(err => {\n                if (err) {\n                    res.send(err);\n                }\n                console.tag(\"STOREPOS\").time().file().info(\"CLEAR\");\n                res.send(\"ok\");\n            });\n    });\n\n    //REMOVE STOREPOS\n    router.get(\"/storePos/remove/:numPosition\", (req, res) => {\n        storePos.removeItem(req.params.numPosition)\n            .then(err => {\n                if (err) {\n                    res.send(err);\n                }\n                console.tag(\"STOREPOS\").time().file().info(`Remove ${req.params.numPosition}`);\n                res.send(\"ok\");\n            });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/organisms/apiStore.js","const getGroupage = require(\"./../molecules/getGroupage\");\nconst getChauffeur = require(\"./../molecules/getChauffeur\");\nconst getMessageAdmin = require(\"./../molecules/getMessageAdmin\");\nconst getSuiviDms = require(\"./../molecules/getSuiviDms\");\nconst getProgressDms = require(\"./../molecules/getProgressDms\");\n\nmodule.exports = (router, console) => {\n    //GET INFO GROUPAGE\n    const dataGrp = {\n        numero: 0,\n        societe: \"\",\n        chauffeur: {\n            nom: \"name\",\n            code: \"\",\n            imei: 0,\n            dms: \"smart_\"\n        },\n        dateImport: \"\",\n        dateRecu: \"\",\n        message: [],\n        position: [],\n        progressBar:[]\n    };\n    router.get(\"/infogroupage/:numero\", (req, res) => {\n        getGroupage(req.params.numero)\n        .then(result => {\n            dataGrp.numero = result[0].numero;\n            dataGrp.chauffeur.dms = result[0].dms;\n            dataGrp.dateImport = result[0].dateImport;\n            dataGrp.dateRecu = result[0].dateRecu;\n            return getChauffeur(result[0].dms);\n        }).then(result => {\n            dataGrp.chauffeur.nom = result[0].nom;\n            dataGrp.chauffeur.code = result[0].code;\n            dataGrp.chauffeur.imei = result[0].imei;\n            dataGrp.societe = result[0].nomsociete;\n            return getMessageAdmin(result[0].code);\n        }).then(result => {\n            dataGrp.message = result;\n            return getSuiviDms(dataGrp.chauffeur.dms);\n        }).then(result => {\n            dataGrp.position = result;\n            getProgressDms(dataGrp.chauffeur.code).then(result => {\n                dataGrp.progressBar = result;\n                res.json(dataGrp);\n                console.tag({\n                    msg: \"INFOGRP\",\n                    colors: [\"italic\", \"blue\", \"bold\"]\n                }).time().file().info(req.params.numero);\n            });\n        }).catch(err => {\n            console.error({\n                msg: \"INFOGRP\",\n                colors: [\"italic\", \"red\", \"bold\"]\n            }).time().file().info(req.params.numero);\n            res.json({\n                error: err\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/organisms/getInfoGroupage.js","const getPosProdTable = require(\"./../molecules/getPosProdTable\");\nconst getPosOnlyColisProdTable = require(\"./../molecules/getPosOnlyColisProdTable\");\nconst getPosTempTable = require(\"./../molecules/getPosTempTable\");\nconst getPosOnlyColisTempTable = require(\"./../molecules/getPosOnlyColisTempTable\");\nconst getPosStorage = require(\"./../molecules/getPosStorage\");\nconst getColisProdTable = require(\"./../molecules/getColisProdTable\");\nconst getColisTempTable = require(\"./../molecules/getColisTempTable\");\nconst getEventProd = require(\"./../molecules/getEventProd\");\nconst traitColis = require(\"./../molecules/traitColis\");\n\n//GET ACTION\nmodule.exports = (router, console, storage) =>{\n    router.get(\"/:action/:user/:numColis\", (req, res) => {\n        //is in storage\n        let newStorage = {};\n        getPosStorage(req.params.numColis, storage)\n            .then(resStore => {\n                if (resStore != undefined) {\n                    console.tag({\n                        msg: `STORAGE | ${req.params.action}`,\n                        colors: [\"italic\", \"grey\", \"bold\"]\n                    }).time().file().info({\n                        num: resStore.numPosition,\n                        user: req.params.user\n                    });\n                    if (req.params.action != \"infocolis\") {\n                        traitColis(req.params.numColis, req.params.action, req.params.user, req.query.zone,storage);\n                    }\n                    res.json(resStore);\n                } else {\n                    // is position in tempTable\n                    if (req.params.action == \"chargement\") {\n                        return getPosOnlyColisTempTable(req.params.numColis, req.query.societe);\n                    }else {\n                        return getPosTempTable(req.params.numColis, req.query.societe);\n                    }\n                }\n            })\n            .then(resPos => {\n                if (resPos != undefined) {\n                    if (resPos.length == 0) {\n                        console.tag({\n                            msg: `TEMP_DB | ${req.params.action}`,\n                            colors: [\"italic\", \"magenta\", \"bold\"]\n                        }).time().file().info(`no result ${req.params.numColis} par ${req.params.user}`);\n                    // is position in prodTable\n                        if (req.params.action == \"chargement\") {\n                            return getPosOnlyColisProdTable(req.params.numColis, req.query.societe);\n                        }else {\n                            return getPosProdTable(req.params.numColis, req.query.societe);\n                        }\n                    } else {\n                        newStorage = resPos[0];\n                    //load colis sql temp\n                        return getColisTempTable(resPos[0].idPosition, req.query.societe)\n                        .then(resColis => {\n                            newStorage.codebarre = resColis;\n                            newStorage.societe = req.query.societe;\n                            return getEventProd(resPos[0].idPosition);\n                        }).then(resEvent => {\n                            newStorage.evenement = resEvent;\n                            //storage de la position\n                            storage.setItem(newStorage.numPosition, newStorage)\n                                .then(() => {\n                                    if (req.params.action != \"infocolis\") {\n                                        traitColis(req.params.numColis, req.params.action, req.params.user, req.query.zone,storage);\n                                    }\n                                });\n                            console.tag({\n                                msg: `TEMP_DB | ${req.params.action}`,\n                                colors: [\"italic\", \"magenta\", \"bold\"]\n                            }).time().file().info({\n                                num: req.params.numColis,\n                                user: req.params.user\n                            });\n                            res.status(200).json(newStorage);\n                        }).catch(err => {\n                            res.status(500).json(err);\n                        });\n                    }\n                }\n            }).then(resPos => {\n                if (resPos != undefined) {\n                    if (resPos.length == 0) {\n                        console.tag({\n                            msg: `PROD_DB | ${req.params.action}`,\n                            colors: [\"italic\", \"blue\", \"bold\"]\n                        }).time().file().info(`no result ${req.params.numColis} par ${req.params.user}`);\n                        res.status(200).json(resPos);\n                        throw \"finish\";\n                    } else {\n                        newStorage = resPos[0];\n                    //load colis sql prod\n                        getColisProdTable(resPos[0].idPosition)\n                        .then(resColis => {\n                            newStorage.codebarre = resColis;\n                            newStorage.societe = req.query.societe;\n                            return getEventProd(resPos[0].idPosition);\n                        }).then(resEvent => {\n                            newStorage.evenement = resEvent;\n                            //storage de la position\n                            storage.setItem(newStorage.numPosition, newStorage)\n                                .then(() => {\n                                    if (req.params.action != \"infocolis\") {\n                                        traitColis(req.params.numColis, req.params.action, req.params.user, req.query.zone, storage);\n                                    }\n                                });\n                            console.tag({\n                                msg: `PROD_DB | ${req.params.action}`,\n                                colors: [\"italic\", \"blue\", \"bold\"]\n                            }).time().file().info({\n                                num: req.params.numColis,\n                                user: req.params.user\n                            });\n                            res.status(200).json(newStorage);\n                        });\n                    }\n                }\n            }).catch( err =>{\n                console.tag({\n                    msg: `ERR | ${req.params.numColis}`,\n                    colors: [\"italic\", \"red\", \"bold\"]\n                }).time().file().info(err);\n            });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/organisms/getPosition.js","const UserDcs = require(\"./../_MongoDB/models/userdcs\");\nconst Chargement = require(\"./../_MongoDB/models/chargement\");\nconst {Position} = require(\"./../_MongoDB/models/position\");\nconst sendMail = require(\"./../mail/nodemailer\");\nconst chargementErreur = require(\"./../mail/chargementErreur\");\nconst moment = require(\"moment\");\nconst request = require(\"request\");\n\n//SOCKET\nmodule.exports = (io, console, storePos) =>{\n    io.on(\"connection\", function(socket) {\n        console.tag(\"SOCKET\").time().file().info(`Connect! ${socket.id}`);\n        socket.on(\"handshake\", handshake => {\n            if (handshake.plateforme == \"smartphone\") {\n                UserDcs.findOne({\n                    code: handshake.user\n                }, (err, user) => {\n                    // io.to(user.socketId).emit(\"logout\");\n                    console.tag(\"SOCKET\").time().file().info(`${socket.id} set tp ${handshake.user}`);\n                    user.socketId = socket.id;\n                    const currentDate = new Date();\n                    user.lastConn = currentDate;\n                    console.tag(\"SOCKET\").time().file().info(`USER : ${handshake.user} CONN`);\n                    socket.join(\"smart\");\n                    io.to(\"desktop\").emit(\"newSmart\", user);\n                    user.save((err) => {\n                        if (err) throw err;\n                    });\n                });\n            } else {\n                socket.join(\"desktop\");\n                UserDcs.find({connected:true}, function(err, users) {\n                    if (err) throw err;\n                    socket.emit(\"listSmart\", users);\n                });\n            }\n        });\n\n        socket.on(\"closeHandShake\", user => {\n            console.tag(\"SOCKET\").time().file().info(`closeHandShake ${socket.id}`);\n            UserDcs.findOne({\n                code: user\n            }, (err, user) => {\n                if (err) throw err;\n                user.connected = false;\n                console.tag(\"SOCKET\").time().file().info(`USER : ${user.code} DISCONN`);\n                io.to(\"desktop\").emit(\"suppSmart\", user.code);\n                user.save((err) => {\n                    if (err) throw err;\n                });\n            });\n        });\n\n        socket.on(\"joinChargement\", (token, user) => {\n            socket.join(token);\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    charg.logs.push({\n                        type: \"conn\",\n                        user: user,\n                        date: moment().format()\n                    });\n                    const s = charg.users.find(u =>{\n                        return u.user === user;\n                    });\n                    console.log(s);\n                    if (s != undefined) {\n                        Chargement.update({\n                            token: token\n                        }, {\n                            $pull: {\n                                users: {\n                                    user: user\n                                }\n                            }\n                        }, (err, val) => {\n                            console.log(val);\n                        });\n                    }\n                    charg.users.push({\n                        user: user,\n                        date: moment().format()\n                    });\n                    charg.save(function(err) {\n                        if (err) throw err;\n                        socket.emit(\"joinChargement_Notif\");\n                        console.tag(\"SOCKET\").time().file().info(`joinChargement ${token} / ${user}`);\n                    });\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"leaveChargement\", (token, user) => {\n            socket.leave(token);\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    charg.logs.push({\n                        type: \"leave\",\n                        user: user,\n                        date: moment().format()\n                    });\n\n                    Chargement.update({\n                        token: token\n                    }, {\n                        $pull: {\n                            users: {\n                                user: user\n                            }\n                        }\n                    }, (err, val) => {\n                        console.log(val);\n                    });\n                    socket.emit(\"leaveChargement_Notif\");\n                    console.tag(\"SOCKET\").time().file().info(`leaveChargement ${token} / ${user}`);\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.addPos\", (token, numpos, user) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    storePos.getItem(numpos).then(pos => {\n                        const newPos = new Position(pos);\n                        newPos.save(function(err) {\n                            if (err){\n                                console.tag(\"SOCKET\").time().file().error(`CHA.addPos Position en double ${numpos} / ${user}`);\n                            }\n                        });\n\n                        charg.positions.unshift(newPos.numPosition);\n                        charg.logs.push({\n                            type: \"addPos\",\n                            user: user,\n                            date: moment().format()\n                        });\n                        charg.save(function(err) {\n                            if (err) throw err;\n                            console.tag(\"SOCKET\").time().file().info(`CHA.addPos UPDATE ${token} / ${numpos} / ${user}`);\n                        });\n                        socket.broadcast.to(token).emit(\"CHA.addPos_Notif\", numpos);\n                    });\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.addColisFictif\", (token, numPosition, nbColisFictif, user) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    Position.findOne({\n                        numPosition: numPosition\n                    }).then(pos => {\n                        if (pos != null) {\n                            pos.nbColisFictif = nbColisFictif;\n                            pos.save(function(err) {\n                                if (err) throw err;\n                                console.tag(\"SOCKET\").time().file().info(`CHA.addColisFictif UPDATE POS ${numPosition} / ${user}`);\n                                socket.broadcast.to(token).emit(\"CHA.addColisFictif_Notif\", {\n                                    numPosition: numPosition,\n                                    nbColisFictif: nbColisFictif\n                                });\n                            });\n                        }\n                    });\n                    charg.logs.push({\n                        type: \"addColisFictif\",\n                        user: user,\n                        date: moment().format()\n                    });\n                    charg.save(function(err) {\n                        if (err) throw err;\n                        console.tag(\"SOCKET\").time().file().info(`CHA.addColisFictif UPDATE CHARG ${token} / ${numPosition} / ${user}`);\n                    });\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.addCol\", (token, numPosition, numColis, user) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    charg.logs.push({\n                        type: `addCol ${numColis}`,\n                        user: user,\n                        date: moment().format()\n                    });\n\n                    Position.update(\n                        {\n                            numPosition: numPosition,\n                            \"codebarre.numero\": numColis\n                        },\n                        {\n                            $set: {\n                                \"codebarre.$.isScanner\": true\n                            }\n                        },\n                (err, result) => {\n                    console.log(result);\n                });\n\n                    charg.save((err) => {\n                        if (err) throw err;\n                        console.tag(\"SOCKET\").time().file().info(`CHA.addCol UPDATE ${token} / ${numColis} / ${user}`);\n                    });\n                    socket.broadcast.to(token).emit(\"CHA.addCol_Notif\", numColis);\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.deletePos\", (token, index, user) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    socket.broadcast.to(token).emit(\"CHA.deletePos_Notif\", charg.positions[index].numPosition);\n                    charg.logs.push({\n                        type: \"deletePos\",\n                        posnum: charg.positions[index].numPosition,\n                        user: user,\n                        date: moment().format()\n                    });\n                    console.tag(\"SOCKET\").time().file().info(`CHA.deletePos Delete de  ${token} / ${charg.positions[index].numPosition} / ${user}`);\n                    charg.positions.splice(index, 1);\n                    charg.save(function(err) {\n                        if (err) throw err;\n                    });\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.SwapPos\", (token, indexA, indexB, user) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    socket.broadcast.to(token).emit(\"CHA.SwapPos_Notif\", {\n                        numA: charg.positions[indexA].numPosition,\n                        numB: charg.positions[indexB].numPosition\n                    });\n                    charg.logs.push({\n                        type: \"SwapPos\",\n                        posnum: `${charg.positions[indexA].numPosition} > ${charg.positions[indexB].numPosition}`,\n                        user: user,\n                        date: moment().format()\n                    });\n                    console.tag(\"SOCKET\").time().file().info(`CHA.SwapPos Swap de  ${token} / ${charg.positions[indexA].numPosition} et ${charg.positions[indexB].numPosition} / ${user}`);\n                    charg.positions.forEach(item => {\n                        console.log(item.numPosition);\n                    });\n                    const b = charg.positions[indexA];\n                    charg.positions[indexA] = charg.positions[indexB];\n                    charg.positions[indexB] = b;\n                    charg.positions.forEach(item => {\n                        console.log(item.numPosition);\n                    });\n                    charg.save(function(err) {\n                        if (err) throw err;\n                    });\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"CHA.Cloture\", (token, user, zone, commande) => {\n            Chargement.findOne({\n                token: token\n            }).then(charg => {\n                if (charg != null) {\n                    socket.broadcast.to(token).emit(\"CHA.Cloture_Notif\");\n                    charg.logs.push({\n                        type: \"Cloture\",\n                        user: user,\n                        date: moment().format()\n                    });\n                    console.tag(\"SOCKET\").time().file().info(`CHA.Cloture Cloture de  ${token} / ${user}`);\n                    const data = [];\n                    JSON.parse(commande).forEach(pos =>{\n                        const newdata = {\n                            OTSID: pos.idPosition,\n                            OTSNUM: pos.numPosition\n                        };\n                        data.push(newdata);\n                    });\n                    console.log({\n                        GRPQUIC: user,\n                        GRPPORTE: zone,\n                        GRPCOMMANDE: data\n                    });\n                    const options = {\n                        method: \"POST\",\n                        url: \"http://10.1.2.70/DCSAPP/api/creagrp\",\n                        headers: {\n                            \"content-type\": \"application/json\"\n                        },\n                        body: {\n                            GRPQUIC: user,\n                            GRPPORTE: zone,\n                            GRPCOMMANDE: data\n                        },\n                        json: true\n                    };\n                    request(options, function(error, response, body) {\n                        if (error) throw new Error(error);\n                        console.log(body);\n                        if (body != \"0\") {\n                            charg.status = \"close\";\n                            charg.token = `${token}_${body}`;\n                            charg.groupage = body;\n                            charg.save(err => {\n                                if (err) throw err;\n                            });\n                        }else {\n                            charg.status = \"erreur\";\n                            charg.token = `${token}_${moment().format(\"ddd-Do-kk:mm\")}_err`;\n                            charg.save(err => {\n                                if (err) throw err;\n                                sendMail(chargementErreur(charg.zone,charg.societe, charg.userCrea));\n                            });\n                        }\n                    });\n\n                }\n            }).catch(err => {\n                if (err) throw err;\n            });\n        });\n\n        socket.on(\"forcedisconnect\", (user) => {\n            // console.tag(\"SOCKET\").time().file().info(`Got disconnect! ${socket.id}`);\n            UserDcs.findOne({\n                code: user\n            }, (err, user) => {\n                if (err) throw err;\n                if (user != null) {\n                    user.connected = false;\n                    user.save((err) => {\n                        if (err) throw err;\n                        console.tag(\"SOCKET FORCE DISCONN\").time().file().info(`USER : ${user.code} FORCE DISCONN`);\n                        io.to(\"desktop\").emit(\"suppSmart\", user.code);\n                        io.to(user.socketId).emit(\"forcedisconnect_Notif\");\n                    });\n                }\n            });\n        });\n\n        socket.on(\"disconnect\", () => {\n            console.tag(\"SOCKET\").time().file().info(`Got disconnect! ${socket.id}`);\n            UserDcs.findOne({\n                socketId: socket.id\n            }, (err, user) => {\n                if (err) throw err;\n                if (user != null) {\n                    user.connected = false;\n                    user.save((err) => {\n                        if (err) throw err;\n                        console.tag(\"SOCKET\").time().file().info(`USER : ${user.code} DISCONN`);\n                        io.to(\"desktop\").emit(\"suppSmart\", user.code);\n                    });\n                }\n            });\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/organisms/socket.js","module.exports = require(\"async\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"async\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"connect-busboy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-busboy\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"ftp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ftp\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 53\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"node-persist\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-persist\"\n// module id = 56\n// module chunks = 0","module.exports = require(\"nodemailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer\"\n// module id = 57\n// module chunks = 0","module.exports = require(\"scribe-js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"scribe-js\"\n// module id = 58\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 59\n// module chunks = 0"],"sourceRoot":""}